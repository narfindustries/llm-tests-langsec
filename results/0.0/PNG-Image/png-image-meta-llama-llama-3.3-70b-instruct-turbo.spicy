# PNG Image File Format Specification

# Define the PNG file signature
file_signature: 
  magic: byte[8] = [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A]

# Define the IHDR chunk
ihdr_chunk:
  length: uint32 = 13
  type: byte[4] = [0x49, 0x48, 0x44, 0x52]
  width: uint32
  height: uint32
  bit_depth: byte
  color_type: byte
  compression_method: byte
  filter_method: byte
  interlace_method: byte
  crc: uint32

# Define the IDAT chunk
idat_chunk:
  length: uint32
  type: byte[4] = [0x49, 0x44, 0x41, 0x54]
  data: byte[length]
  crc: uint32

# Define the IEND chunk
iend_chunk:
  length: uint32 = 0
  type: byte[4] = [0x49, 0x45, 0x4E, 0x44]
  crc: uint32 = 0xAE426082

# Define the PNG file structure
png_file:
  file_signature
  ihdr_chunk
  idat_chunk*
  iend_chunk

# Define the PNG image metadata
png_image_meta:
  width: uint32
  height: uint32
  bit_depth: byte
  color_type: byte
  compression_method: byte
  filter_method: byte
  interlace_method: byte

# Define the PNG image parser
png_image_parser:
  png_file
  png_image_meta
