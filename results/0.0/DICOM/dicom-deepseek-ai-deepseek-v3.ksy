meta:
  id: dicom
  title: DICOM (Digital Imaging and Communications in Medicine)
  file-extension: dcm
  license: MIT
  endian: le
  encoding: ASCII
seq:
  - id: preamble
    size: 128
    contents: [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, ÊûÅ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
  - id: prefix
    size: 4
    contents: [0x44, 0x49, 0x43, 0x4D]
types:
  dicom_element:
    seq:
      - id: tag
        type: u2
      - id: vr
        type: str
        size: 2
        encoding: ASCII
      - id: length
        type: u2
      - id: value
        size: length
        type:
          switch-on: vr
          cases:
            ae: str
            as: str
            at: u4
            cs: str
            da: str
            ds: str
            dt: str
            fl: f4
            fd: f8
            is: str
            lo: str
            lt: str
            ob: u1
            od: u1
            of: u1
            ow: u1
            pn: str
            sh: str
            sl: s4
            ss: s2
            st: str
            tm: str
            ui: str
            ul: u4
            un: u1
            us: u2
            ut: str
instances:
  elements:
    pos: 132
    type: dicom_element
    repeat: eos