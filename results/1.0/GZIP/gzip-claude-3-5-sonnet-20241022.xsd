<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
           xmlns:gzip="http://example.com/gzip"
           targetNamespace="http://example.com/gzip"
           elementFormDefault="qualified">

  <xs:annotation>
    <xs:appinfo source="http://www.ogf.org/dfdl/">
      <dfdl:format ref="gzip:GZIPFormat" byteOrder="littleEndian" binaryNumberRep="binary"
                   representation="binary" occursCountKind="implicit" alignment="1"
                   lengthUnits="bytes" encodingErrorPolicy="error"/>
    </xs:appinfo>
  </xs:annotation>

  <xs:element name="gzipFile">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="header">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="id1" type="xs:unsignedByte" dfdl:outputValueCalc="{ 31 }"/>
              <xs:element name="id2" type="xs:unsignedByte" dfdl:outputValueCalc="{ 139 }"/>
              <xs:element name="compressionMethod" type="xs:unsignedByte"/>
              <xs:element name="flags" type="xs:unsignedByte"/>
              <xs:element name="mtime" type="xs:unsignedInt"/>
              <xs:element name="xfl" type="xs:unsignedByte"/>
              <xs:element name="os" type="xs:unsignedByte"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="compressedBlocks" type="xs:hexBinary"/>
        <xs:element name="trailer">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="crc32" type="xs:unsignedInt"/>
              <xs:element name="isize" type="xs:unsignedInt"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:annotation>
    <xs:appinfo source="http://www.ogf.org/dfdl/">
      <dfdl:defineFormat name="GZIPFormat">
        <dfdl:format alignment="1" alignmentUnits="bytes"
                     binaryBooleanFalseRep="0" binaryBooleanTrueRep="1"
                     binaryCalendarRep="bcd" binaryDecimalVirtualPoint="0"
                     binaryFloatRep="ieee" binaryNumberCheckPolicy="lax"
                     binaryNumberRep="binary" bitOrder="mostSignificantBitFirst"
                     byteOrder="littleEndian" calendarCenturyStart="53"
                     calendarCheckPolicy="lax" calendarDaysInFirstWeek="4"
                     calendarFirstDayOfWeek="Monday" calendarLanguage="en-US"
                     calendarObserveDST="yes" calendarPatternKind="implicit"
                     calendarTimeZone="UTC" choiceLengthKind="implicit"
                     decimalSigned="yes" documentFinalTerminatorCanBeMissing="no"
                     emptyValueDelimiterPolicy="none" encoding="UTF-8"
                     encodingErrorPolicy="error" escapeSchemeRef=""
                     fillByte="%NUL;" floating="no" ignoreCase="no"
                     initiatedContent="no" initiator="" leadingSkip="0"
                     lengthKind="implicit" lengthUnits="bytes"
                     nilKind="literalValue" nilValueDelimiterPolicy="none"
                     nilValue="NIL" occursCountKind="implicit"
                     outputNewLine="%CR;%LF;" prefixIncludesPrefixLength="no"
                     representation="binary" separator="" separatorPosition="infix"
                     separatorSuppressionPolicy="anyEmpty" sequenceKind="ordered"
                     terminator="" textBidi="no" textBooleanFalseRep="false"
                     textBooleanJustification="left" textBooleanPadCharacter="%SP;"
                     textBooleanTrueRep="true" textCalendarJustification="left"
                     textCalendarPadCharacter="%SP;" textNumberCheckPolicy="lax"
                     textNumberJustification="right"
                     textNumberPadCharacter="0" textNumberPattern="#0"
                     textNumberRep="standard" textNumberRoundingIncrement="0.0"
                     textNumberRoundingMode="roundUp"
                     textOutputMinLength="0" textPadKind="none"
                     textStringJustification="left"
                     textStringPadCharacter="%SP;" textTrimKind="none"
                     textZonedSignStyle="asciiStandard" trailingSkip="0"
                     truncateSpecifiedLengthString="no" useNilForDefault="no"
                     utf16Width="fixed" />
      </dfdl:defineFormat>
    </xs:appinfo>
  </xs:annotation>

</xs:schema>